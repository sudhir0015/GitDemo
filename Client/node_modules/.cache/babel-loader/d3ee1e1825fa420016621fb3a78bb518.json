{"ast":null,"code":"var _jsxFileName = \"/home/pradhant/caruso/panda-board/Client/src/Components/Menu/MenuList.js\";\nimport React, { Component } from \"react\";\nimport Nav from \"react-bootstrap/Nav\";\nimport CreateItemForm from \"./CreateItemForm\";\nimport Config from \"../../Configuration\";\nimport stringSimilarity from \"string-similarity\";\nimport ContentEditable from \"react-contenteditable\";\n\nclass MenuList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      teams: []\n    };\n    this.updateList = this.updateList.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.contentEditable = React.createRef();\n  }\n\n  componentDidMount() {\n    this.updateList();\n  }\n\n  updateList() {\n    var jsonObj = {};\n\n    if (this.props.getItemsQuery === \"/getSprints\") {\n      jsonObj = {\n        params: {\n          team: Config.getTeamName()\n        }\n      };\n    }\n\n    var baseUrl = Config.getBaseUrl();\n    Config.getAxiosInstance().get(this.props.getItemsQuery, jsonObj).then(res => {\n      this.setState({\n        items: res.data.map(item => {\n          var ref = \"\";\n\n          if (this.props.getItemsQuery === \"/getSprints\") {\n            ref = baseUrl + \"team/\" + Config.getTeamName() + \"/sprint/\" + item;\n          } else if (this.props.getItemsQuery === \"/getTeams\") {\n            ref = baseUrl + \"team/\" + item;\n            this.state.teams.push(item);\n          }\n\n          return /*#__PURE__*/React.createElement(Nav.Link, {\n            key: item,\n            href: ref,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }\n          }, \" \", item, \" \");\n        })\n      });\n    });\n  }\n\n  handleSubmit(jsonObj) {\n    Config.getAxiosInstance().post(this.createNewItemQuery, jsonObj).then(_ => this.updateList());\n  }\n\n  updateDisplay(listOfTeams) {\n    var baseUrl = Config.getBaseUrl();\n    this.setState({\n      items: listOfTeams.map(item => {\n        var ref = baseUrl + \"team/\" + item;\n        return /*#__PURE__*/React.createElement(Nav.Link, {\n          key: item,\n          href: ref,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }\n        }, \" \", item, \" \");\n      })\n    });\n  }\n\n  updateTeamsListForPerfectMatch(itemName, index) {\n    //remove elements before index\n    this.state.teams.splice(0, index); //update the index\n\n    index = this.state.teams.findIndex(data => data === itemName); //remove elements after index\n\n    this.state.teams.splice(index + 1, this.state.teams.length - 1 - index);\n  }\n\n  handleSearch(event) {\n    if (event.target.value.length > 1 && this.state.items && this.state.teams && this.state.teams.length) {\n      let matching = stringSimilarity.findBestMatch(event.target.value.toLowerCase(), this.state.teams);\n      matching.ratings.sort(function (a, b) {\n        return b.rating - a.rating;\n      }); // sort the display list as per the ratings obtained\n\n      this.state.teams.sort(function (a, b) {\n        let indexOfA = matching.ratings.findIndex(data => data.target === a);\n        let indexOfB = matching.ratings.findIndex(data => data.target === b);\n        return indexOfA - indexOfB;\n      });\n      matching.ratings.forEach(indexInfo => {\n        // we have a perfect match\n        if (indexInfo.rating === 1) {\n          this.state.teams.forEach((teamInfo, index) => {\n            if (indexInfo.target === teamInfo) {\n              this.updateTeamsListForPerfectMatch(indexInfo.target, index);\n            }\n          });\n        } else if (indexInfo.rating < 0.05) {\n          // we have less than 5% match, this filter can be modified\n          this.state.teams.forEach((teamInfo, index) => {\n            if (indexInfo.target === teamInfo) {\n              this.state.teams.splice(index, 1);\n            }\n          });\n        }\n      });\n      this.updateDisplay(this.state.teams);\n    } else if (event.target.value.length === 0) {\n      let empty = [];\n      this.setState({\n        teams: empty\n      });\n      this.updateList();\n    }\n  }\n\n  checkIfSearchOptionIsRequired() {\n    if (this.props.getItemsQuery === \"/getTeams\") {\n      return /*#__PURE__*/React.createElement(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"searchBox\",\n        placeholder: \"Search Team...\",\n        onChange: e => {\n          this.handleSearch(e);\n        },\n        onKeyPress: e => {\n          e.key === \"Enter\" && e.preventDefault();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }), \" \", /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }\n      }, \" \", this.state.query, \" \"), \" \", /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 39\n        }\n      }, \" Registered Teams \"), \" \");\n    }\n\n    return /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 12\n      }\n    }, \" List Of Sprints \");\n  }\n\n  handleTitleChange(e, col) {\n    console.log(\"Editing to ->\");\n  }\n\n  render() {\n    console.log(\"Trilokesh data = \" + JSON.stringify(this.state.items));\n    return /*#__PURE__*/React.createElement(Nav, {\n      defaultActiveKey: \"/\",\n      className: \"flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://use.fontawesome.com/releases/v5.7.0/css/all.css\",\n      integrity: \"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ\",\n      crossOrigin: \"anonymous\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-bars\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, \" \"), \" Menu\", \" \"), \" \", /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }\n    }, \" \", this.checkIfSearchOptionIsRequired(), \" \"), /*#__PURE__*/React.createElement(ContentEditable, {\n      innerRef: this.contentEditable,\n      html: this.state.items[0] // innerHTML of the editable div\n      ,\n      disabled: false // use true to disable editing\n      ,\n      className: \"content-editable\",\n      onBlur: e => this.handleTitleChange(e.target.innerText, this.props.name) // handle innerHTML change\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(CreateItemForm, {\n      onSubmit: this.handleSubmit,\n      itemName: this.props.itemName,\n      createNewItemQuery: this.props.createNewItemQuery,\n      updateList: this.updateList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }\n    }), \" \");\n  }\n\n}\n\nexport default MenuList;","map":{"version":3,"sources":["/home/pradhant/caruso/panda-board/Client/src/Components/Menu/MenuList.js"],"names":["React","Component","Nav","CreateItemForm","Config","stringSimilarity","ContentEditable","MenuList","constructor","props","state","items","teams","updateList","bind","handleSearch","handleTitleChange","contentEditable","createRef","componentDidMount","jsonObj","getItemsQuery","params","team","getTeamName","baseUrl","getBaseUrl","getAxiosInstance","get","then","res","setState","data","map","item","ref","push","handleSubmit","post","createNewItemQuery","_","updateDisplay","listOfTeams","updateTeamsListForPerfectMatch","itemName","index","splice","findIndex","length","event","target","value","matching","findBestMatch","toLowerCase","ratings","sort","a","b","rating","indexOfA","indexOfB","forEach","indexInfo","teamInfo","empty","checkIfSearchOptionIsRequired","e","key","preventDefault","query","col","console","log","render","JSON","stringify","innerText","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Nav from \"react-bootstrap/Nav\";\nimport CreateItemForm from \"./CreateItemForm\";\nimport Config from \"../../Configuration\";\nimport stringSimilarity from \"string-similarity\";\nimport ContentEditable from \"react-contenteditable\";\n\n\nclass MenuList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      teams: [],\n    };\n    this.updateList = this.updateList.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.contentEditable = React.createRef();\n  }\n\n  componentDidMount() {\n    this.updateList();\n  }\n\n  updateList() {\n    var jsonObj = {};\n    if (this.props.getItemsQuery === \"/getSprints\") {\n      jsonObj = {\n        params: {\n          team: Config.getTeamName(),\n        },\n      };\n    }\n\n    var baseUrl = Config.getBaseUrl();\n\n    Config.getAxiosInstance()\n      .get(this.props.getItemsQuery, jsonObj)\n      .then((res) => {\n        this.setState({\n          items: res.data.map((item) => {\n            var ref = \"\";\n            if (this.props.getItemsQuery === \"/getSprints\") {\n              ref =\n                baseUrl + \"team/\" + Config.getTeamName() + \"/sprint/\" + item;\n            } else if (this.props.getItemsQuery === \"/getTeams\") {\n              ref = baseUrl + \"team/\" + item;\n\n              this.state.teams.push(item);\n            }\n            return (\n              <Nav.Link key={item} href={ref}>\n                {\" \"}\n                {item}{\" \"}\n              </Nav.Link>\n            );\n          }),\n        });\n      });\n  }\n\n  handleSubmit(jsonObj) {\n    Config.getAxiosInstance()\n      .post(this.createNewItemQuery, jsonObj)\n      .then((_) => this.updateList());\n  }\n\n  updateDisplay(listOfTeams) {\n    var baseUrl = Config.getBaseUrl();\n    this.setState({\n      items: listOfTeams.map((item) => {\n        var ref = baseUrl + \"team/\" + item;\n\n        return (\n          <Nav.Link key={item} href={ref}>\n            {\" \"}\n            {item}{\" \"}\n          </Nav.Link>\n        );\n      }),\n    });\n  }\n\n  updateTeamsListForPerfectMatch(itemName, index) {\n    //remove elements before index\n    this.state.teams.splice(0, index);\n\n    //update the index\n    index = this.state.teams.findIndex((data) => data === itemName);\n\n    //remove elements after index\n    this.state.teams.splice(index + 1, this.state.teams.length - 1 - index);\n  }\n\n  handleSearch(event) {\n    if (\n      event.target.value.length > 1 &&\n      this.state.items &&\n      this.state.teams &&\n      this.state.teams.length\n    ) {\n      let matching = stringSimilarity.findBestMatch(\n        event.target.value.toLowerCase(),\n        this.state.teams\n      );\n\n      matching.ratings.sort(function (a, b) {\n        return b.rating - a.rating;\n      });\n\n      // sort the display list as per the ratings obtained\n      this.state.teams.sort(function (a, b) {\n        let indexOfA = matching.ratings.findIndex((data) => data.target === a);\n        let indexOfB = matching.ratings.findIndex((data) => data.target === b);\n\n        return indexOfA - indexOfB;\n      });\n\n      matching.ratings.forEach((indexInfo) => {\n\n        // we have a perfect match\n        if (indexInfo.rating === 1) {\n          this.state.teams.forEach((teamInfo, index) => {\n            if (indexInfo.target === teamInfo) {\n              this.updateTeamsListForPerfectMatch(indexInfo.target, index);\n            }\n          });\n        } else if (indexInfo.rating < 0.05) {\n          // we have less than 5% match, this filter can be modified\n          this.state.teams.forEach((teamInfo, index) => {\n            if (indexInfo.target === teamInfo) {\n              this.state.teams.splice(index, 1);\n            }\n          });\n        }\n      });\n\n      this.updateDisplay(this.state.teams);\n\n    } else if (event.target.value.length === 0) {\n      let empty = [];\n      this.setState({ teams: empty });\n      this.updateList();\n    }\n  }\n\n  checkIfSearchOptionIsRequired() {\n    if (this.props.getItemsQuery === \"/getTeams\") {\n      return (\n        <form>\n          <input\n            type=\"text\"\n            name=\"searchBox\"\n            placeholder=\"Search Team...\"\n            onChange={(e) => {\n              this.handleSearch(e);\n            }}\n            onKeyPress={(e) => {\n              e.key === \"Enter\" && e.preventDefault();\n            }}\n          />{\" \"}\n          <p> {this.state.query} </p> <h4> Registered Teams </h4>{\" \"}\n        </form>\n      );\n    }\n\n    return <h4> List Of Sprints </h4>;\n  }\n\n  handleTitleChange(e, col) {\n    console.log(\"Editing to ->\");\n  }\n\n  render() {\n    console.log(\"Trilokesh data = \" + JSON.stringify(this.state.items));\n    return (\n      <Nav defaultActiveKey=\"/\" className=\"flex-column\">\n        <link\n          rel=\"stylesheet\"\n          href=\"https://use.fontawesome.com/releases/v5.7.0/css/all.css\"\n          integrity=\"sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ\"\n          crossOrigin=\"anonymous\"\n        ></link>{\" \"}\n        <h3>\n          <i className=\"fas fa-bars\"> </i> Menu{\" \"}\n        </h3>{\" \"}\n        <div> {this.checkIfSearchOptionIsRequired()} </div>\n        <ContentEditable\n          innerRef={this.contentEditable}\n          html={this.state.items[0]}// innerHTML of the editable div\n          disabled={false} // use true to disable editing\n          className=\"content-editable\"\n          onBlur={(e) =>\n            this.handleTitleChange(e.target.innerText, this.props.name)\n          } // handle innerHTML change\n        />\n        {/* <div>{this.state.items}{\" \"}</div> */}\n        <CreateItemForm\n          onSubmit={this.handleSubmit}\n          itemName={this.props.itemName}\n          createNewItemQuery={this.props.createNewItemQuery}\n          updateList={this.updateList}\n        />{\" \"}\n      </Nav>\n    );\n  }\n}\n\nexport default MenuList;\n"]},"metadata":{},"sourceType":"module"}